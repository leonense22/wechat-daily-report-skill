# AI 内容生成提示词模板

本文档定义了 AI 需要根据聊天记录生成的内容格式。

## 风格要求

> **核心风格：幽默、抽象、玩梗**
> 
> - 用轻松诙谐的语气描述话题和事件
> - 善用网络热梗、表情包文化、群内流行语
> - 成员画像要有趣味性，像"人类观察日记"一样描绘
> - 摘要和金句要有画面感，能让人会心一笑
> - 可以适当夸张，但不要恶意调侃

## 输入数据

AI 将收到以下数据：
1. **精简聊天文本** (`simplified_chat.txt`) - 过滤后的聊天记录
2. **统计数据** (`stats.json`) - 包含词云、话唠榜（已含常用词）等脚本分析结果

## AI 需要生成的内容

请按以下 JSON 格式输出：

```json
{
  "topics": [
    {
      "title": "话题标题（可以玩梗）",
      "category": "分类",
      "summary": "50-100字的话题摘要，用幽默的方式概括",
      "keywords": ["关键词1", "关键词2"],
      "mention_count": 15
    }
  ],
  "resources": [
    {
      "type": "TUTORIAL | NEWS | RESOURCE | TIP | RECOMMEND | EXPERIENCE",
      "title": "资源标题",
      "sharer": "分享者昵称",
      "time": "分享时间",
      "category": "分类",
      "description": "简介",
      "key_points": ["要点1", "要点2", "要点3"],
      "url": "链接（如有）"
    }
  ],
  "important_messages": [
    {
      "priority": "高 | 中 | 低",
      "sender": "发送者",
      "time": "时间",
      "summary": "消息摘要（可以调侃）",
      "content": "完整内容"
    }
  ],
  "dialogues": [
    {
      "topic": "相关话题",
      "messages": [
        {
          "name": "发言者",
          "time": "时间",
          "content": "消息内容",
          "avatar_color": "#颜色代码"
        }
      ],
      "highlight": "提炼一句精辟的金句或吐槽"
    }
  ],
  "qas": [
    {
      "questioner": "提问者",
      "question_time": "时间",
      "question": "问题内容",
      "tags": ["标签1", "标签2"],
      "answerer": "回答者",
      "answer_time": "时间",
      "answer": "回答内容",
      "is_best": true
    }
  ],
  "topic_heat": [
    {
      "name": "话题名称",
      "count": 50,
      "percent": 35,
      "color": "var(--wx-green)"
    }
  ],
  "talker_profiles": {
    "用户昵称": {
      "traits": ["有梗的特点标签1", "抽象标签2", "玩梗标签3"]
    }
  }
}
```

## 生成要点

### 话题识别 (topics)
- 识别 3-5 个主要讨论话题
- **标题可以玩梗**（如："今日黄金走势"→"含金量极高的理财研讨会"）
- 摘要用轻松的语气，像在给朋友讲今天群里发生的趣事

### 资源分享 (resources) ⭐ 重点挖掘
- **广义理解"资源"**，不仅是链接，还包括：
  - 群友分享的生活经验、省钱技巧
  - 游戏攻略、配置推荐
  - 购物心得、避坑指南
  - 工具推荐、效率技巧
  - 专业知识科普
  - 任何有价值的信息分享
- **类型扩展**：`TUTORIAL`(教程) | `NEWS`(新闻) | `RESOURCE`(资源) | `TIP`(技巧) | `RECOMMEND`(推荐) | `EXPERIENCE`(经验)
- 每条资源提炼 2-4 个要点
- 如果群聊涉及多个领域，尽量覆盖

### 有趣对话 (dialogues)
- 选择 2-4 段**最抽象、最有梗**的对话
- 优先选择：互相调侃、神回复、离谱发言、集体整活
- 金句要能让人 "笑出声" 或 "有道理"
- 每段对话 3-8 条消息，保留完整对话氛围

### 问答识别 (qas) ⭐ 生成3条
- **必须生成 3 条问答**，覆盖不同类型
- 不限于正经问答，抽象问答也可以收录
- 问题和回答都要**完整详细**，不要省略关键信息
- 回答内容如果涉及多个步骤或要点，用分点描述
- 群友互相解答的实用问题优先
- 如果有多人回答，可以综合成一条最佳答案

### 成员画像 (talker_profiles)
- 给话唠榜成员写**有梗的人设标签**
- 参考风格：
  - ❌ "技术能力强" → ✅ "代码界的米开朗基罗"
  - ❌ "喜欢聊天" → ✅ "水群专业户·十级话痨"
  - ❌ "关注理财" → ✅ "野生民间股神"
  - ❌ "爱玩游戏" → ✅ "云顶之弈受害者"
- 每人 2-3 个标签，基于其发言内容提炼
- **常用词已由脚本统计，无需 AI 生成**
